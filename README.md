<p align="center">
  <img src="samples/isometric_grid_with_trees.png" alt="Trease - Your Focus Forest" width="600"/>
</p>

<h1 align="center">Trease</h1>

<p align="center">
  <em>Cultivate attention.</em>
</p>

<p align="center">
  <strong>A unified collection of procedurally generated trees for Trease Focus</strong><br/>
  <sub>Compiling all tree artwork into cacheable images and videos ğŸŒ²</sub>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript"/>
  <img src="https://img.shields.io/badge/Bun-000000?style=for-the-badge&logo=bun&logoColor=white" alt="Bun"/>
  <img src="https://img.shields.io/badge/License-GNU-green?style=for-the-badge" alt="GNU License"/>
</p>

<br/>

---

<br/>

## âœ¨ Features

ğŸŒ³ **Tree Collection Hub** â€” Compiles all tree artwork from various sources into one place  
ğŸ¨ **Procedurally Generated Flora** â€” Every plant is unique, grown from seeds  
ğŸ“¦ **Cache Generation** â€” Pre-generates images, videos, and entity data for efficient distribution  
ğŸ¬ **Video Generation** â€” Watch your trees grow with animated growth videos  

<br/>

---

<br/>

## ğŸŒ¸ The Garden Collection

<p align="center">
  <em>Every focus session grows something beautiful. (More to be added)</em>
</p>

<br/>

<table align="center">
  <tr>
    <td align="center">
      <img src="samples/tree.png" width="140" alt="Tree"/><br/>
      <sub><b>ğŸŒ³ Tree</b></sub>
    </td>
    <td align="center">
      <img src="samples/sakura.png" width="140" alt="Sakura"/><br/>
      <sub><b>ğŸŒ¸ Sakura</b></sub>
    </td>
    <td align="center">
      <img src="samples/maple.png" width="140" alt="Maple"/><br/>
      <sub><b>ğŸ Maple</b></sub>
    </td>
  </tr>
  <tr>
    <td align="center">
      <img src="samples/cedar.png" width="140" alt="Cedar"/><br/>
      <sub><b>ğŸŒ² Cedar</b></sub>
    </td>
    <td align="center">
      <img src="samples/wisteria.png" width="140" alt="Wisteria"/><br/>
      <sub><b>ğŸ’œ Wisteria</b></sub>
    </td>
    <td align="center">
      <img src="samples/weeping_willow.png" width="140" alt="Weeping Willow"/><br/>
      <sub><b>ğŸŒ¿ Weeping Willow</b></sub>
    </td>
  </tr>
  <tr>
    <td align="center">
      <img src="samples/sunflower.png" width="140" alt="Sunflower"/><br/>
      <sub><b>ğŸŒ» Sunflower</b></sub>
    </td>
    <td align="center">
      <img src="samples/lavender.png" width="140" alt="Lavender"/><br/>
      <sub><b>ğŸ’ Lavender</b></sub>
    </td>
    <td align="center">
      <img src="samples/pink_balls_tree.png" width="140" alt="Pink Balls Tree"/><br/>
      <sub><b>ğŸ©· Pink Balls Tree</b></sub>
    </td>
  </tr>
</table>

<br/>

---

<br/>

## ğŸš€ Quick Start

### Prerequisites

- [Bun](https://bun.sh) runtime installed
- FFmpeg (for video generation)

### Installation

```bash
# Clone the repository
git clone https://github.com/trease-focus/trease-backend.git
cd trease-backend

# Install dependencies
bun install
```

<br/>

---

<br/>

## ğŸ“¦ Cache Generation

The primary purpose of this repository is to generate cached assets for all tree entities.

### Generate Entity Data

Outputs metadata for all available tree types to `cache/entity_data.json`:

```bash
bun run cache-gen/generate_entity_data.ts
```

### Generate Image Cache

Pre-renders all tree variants as PNG images to `cache/images/`:

```bash
bun run cache-gen/generate_image_cache.ts
```

render only a specific tree id

```bash
bun run cache-gen/generate_image_cache.ts maple
```
### Generate Video Cache

Creates growth animation videos for all tree variants to `cache/video/`.
Always ensure to generate image cache first as the images generated by it are used to calculate the tree anchors:

```bash
bun run cache-gen/generate_video_cache.ts
```


```bash
bun run cache-gen/generate_video_cache.ts maple
```

<br/>

---

<br/>

## ğŸ“¡ Development Server (Optional)

For local testing, you can run the development server:

```bash
bun run src/server.ts
```

<p align="center">
  <code>ğŸŒ± Server listening on http://localhost:3000</code>
</p>

### API Endpoints

| Endpoint | Description |
|:---------|:------------|
| `GET /image?type={plant}&seed={seed}` | Generate a plant image |
| `GET /video?type={plant}&seed={seed}` | Generate a growth video |
| `GET /treeInfo?seed={seed}` | Get tree positioning data |

<br/>

---

<br/>

## ğŸ› ï¸ Tech Stack

<p align="center">
  <img src="https://skillicons.dev/icons?i=ts,bun,nodejs" alt="Tech Stack"/>
</p>

- **Runtime**: [Bun](https://bun.sh) â€” Fast JavaScript runtime
- **Canvas**: [@napi-rs/canvas](https://github.com/Brooooooklyn/canvas) â€” High-performance canvas rendering
- **Video**: FFmpeg â€” Video encoding and generation

<br/>

---

<br/>

## ğŸ¤ Contributing

Contributions are what make the open-source community amazing! Any contributions you make are **greatly appreciated**.



1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingPlant`)
3. Commit your Changes (`git commit -m 'Add some AmazingPlant'`)
4. Push to the Branch (`git push origin feature/AmazingPlant`)
5. Open a Pull Request

### ğŸŒ± Ideas for Contributions

- [ ] Add new plant species (open an issue with an image to your art if you dont know how to code but would like to contribute)
- [ ] Improve animation smoothness
- [ ] Add seasonal variations
- [ ] Add weather effects (rain, snow, wind)

<br/>

---

<br/>

## ğŸ“„ License

Distributed under the GNU GENERAL PUBLIC LICENSE Version 3. See `LICENSE` for more information.

<br/>

---

<br/>

<p align="center">
  <img src="samples/maple2.png" width="200" alt="Maple"/>
</p>

<p align="center">
  <em>Built with ğŸ’š for focused minds everywhere</em>
</p>

<p align="center">
  <sub>Stay focused. Grow forests. Change the world. ğŸŒ</sub>
</p>

<br/>

<p align="center">
  <a href="#-trease">â¬†ï¸ Back to Top</a>
</p>
